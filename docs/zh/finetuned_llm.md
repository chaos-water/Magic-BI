# 微调模型
微调模型主要用于数据库问答。根据我们的经验，微调模型的效果显著由于通用大模型。
## 微调框架
我们没有自行开发模型微调代码，采用LLaMa-Factory（ https://github.com/hiyouga/LLaMA-Factory ）框架来微调模型。 微调方法如下：
## 基座模型
基座模型是通用语言模型，我们目前采用Llama-3.1-8B-Instruct作为基座模型。用户可以选择其它基座模型，或在社区中提出需求。
## 微调数据
微调数据用来微调模型，Magic-BI的Text2SQL微调数据格式如下：
### 表选择
表选择微调数据的格式如下：
### SQL生成
SQL生成微调数据的格式如下：
### 构建方法
#### 人工构建
人工总结构建领域内的问题-SQL问答对，尽可能覆盖该领域的所有问题。
#### 探索模式自动构建
Magic-BI在自动探索模式下，会自动探索生成该领域尽可能多的问题-SQL问答对。在运行结束后，最好有业务专家或技术人员对生成的问答对进行校验。
### 数据增强
不论是人工构建还是自动构建，生成的问题-SQL问答对的数量都是有限的，即使覆盖了每个领域，但是数据的多样性是有限的。Magic-BI的数据增强功能，就用于解决该问题。
通过执行如下命令？？？，实现基于种子数据的数据增强。

